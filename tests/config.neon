extensions:
    slimApi: \BrandEmbassy\Slim\DI\SlimApiExtension


services:
    - BrandEmbassyTest\Slim\Sample\NotFoundHandler
    - BrandEmbassyTest\Slim\Sample\NotAllowedHandler
    - BrandEmbassyTest\Slim\Sample\ApiErrorHandler
    - BrandEmbassyTest\Slim\Sample\GoldenKeyAuthMiddleware
    - BrandEmbassyTest\Slim\Sample\CreateChannelRoute
    - BrandEmbassyTest\Slim\Sample\ErrorThrowingRoute
    - BrandEmbassyTest\Slim\Sample\BeforeRequestMiddleware
    - BrandEmbassyTest\Slim\Sample\BeforeRouteMiddleware
    - BrandEmbassyTest\Slim\Sample\CreateChannelUserRoute
    helloWorldRoute: BrandEmbassyTest\Slim\Sample\HelloWorldRoute

slimApi:
    slimConfiguration:
        settings:
            removeDefaultHandlers: true
            myCustomOption: 'Sample'

    handlers:
        notFoundHandler: BrandEmbassyTest\Slim\Sample\NotFoundHandler
        notAllowedHandler: BrandEmbassyTest\Slim\Sample\NotAllowedHandler
        errorHandler: BrandEmbassyTest\Slim\Sample\ApiErrorHandler

    routes:
        "app":
            "/hello-world-as-class-name":
                get:
                    service: BrandEmbassyTest\Slim\Sample\HelloWorldRoute
                    extraField: 'foo'
            "/hello-world-as-service-name":
                get:
                    service: helloWorldRoute

        "api":
            '/channels':
                post:
                    service: BrandEmbassyTest\Slim\Sample\CreateChannelRoute
                    middlewares:
                        - BrandEmbassyTest\Slim\Sample\GoldenKeyAuthMiddleware

            '/channels/{channelId}/users':
                post:
                    service: BrandEmbassyTest\Slim\Sample\CreateChannelUserRoute

            '/error':
                post:
                    service: BrandEmbassyTest\Slim\Sample\ErrorThrowingRoute

    beforeRouteMiddlewares:
        - BrandEmbassyTest\Slim\Sample\BeforeRouteMiddleware

    beforeRequestMiddlewares:
        - BrandEmbassyTest\Slim\Sample\BeforeRequestMiddleware
